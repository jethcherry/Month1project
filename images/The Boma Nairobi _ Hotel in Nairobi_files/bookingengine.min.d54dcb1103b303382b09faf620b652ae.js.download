/*! Copyright (C) Simplotel - All Rights Reserved 
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
*/
function validateform_simplebooking(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var n=t.val(),o=a.val();$(e).find("#check_in").val(n),$(e).find("#check_out").val(o),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy");var d="A",r=$(e).attr("action"),m=$(e).find(".be-lang").val(),c=$(e).find('input[name*="_ga"]').val(),l=$(e).find("#default_child_age").val(),p=$(e).find("#goto_availability").val(),f=$(e).find("#currency_code").val();for(m||(m="en"),f||(f="INR"),l||(l="5"),p||(p="true"),i=1;i<parseInt($(e).find("#adults_id").val());i++)d+=",A";for(i=1;i<=parseInt($(e).find("#children_id").val());i++)d+=","+l;return $(e).find("#guests").val(d),"true"===p&&(f+="#/q"),r+="?hid="+$(e).find("#property_id").val()+"&lang="+m+"&cur="+f+"&guests="+d+"&in="+n+"&out="+o+"&coupon="+$(e).find("#promo_code").val(),c&&(r+="&_ga="+c),"_parent"===$(e).attr("target")?window.open(r,"_self"):window.open(r),!1}function validateform_axisrooms(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_hotelcommerce(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#checkin").val(i),$(e).find("#checkout").val(n),t.datepicker("option","dateFormat","dd-M-yy"),a.datepicker("option","dateFormat","dd-M-yy"),!0}function validateform_ibc(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_busyrooms(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val(),o=$(e).find("#adults_id").val(),d=$(e).find("#children_id").val(),r="http://api.direct-reservation.net/?websiteID="+$(e).find("#websiteID").val()+'&query={"LanguageCode":"EN","CurrencyCode":"INR","PassengerGroups":[{"adults":'+o+',"childrenAges":['+d+']}],"Accommodation":{"EstablishmentIDs":[]},"DateFrom":"'+i+'T00:00:00.000Z","DateTo":"'+n+'T00:00:00.000Z"}&modules=["Accommodation"]';return $(e).attr("action",r),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_eglobe(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","dd-M-yy"),a.datepicker("option","dateFormat","dd-M-yy");var i=t.val(),n=(a.val(),t.datepicker("getDate")),o=(a.datepicker("getDate")-n)/1e3/60/60/24;return $(e).find("#check_in").val(i),$(e).find("#number_of_nights").val(o),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_webcrs(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val(),o=t.datepicker("getDate");a.datepicker("getDate");return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_verticalbooking(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val(),o=t.datepicker("getDate"),d=(a.datepicker("getDate")-o)/1e3/60/60/24;$(e).find("#check_in").val(i),$(e).find("#check_out").val(n);var r=$.datepicker.formatDate("d",o),m=$.datepicker.formatDate("m",o),c=$.datepicker.formatDate("yy",o);return $(e).find("#gg").val(r),$(e).find("#mm").val(m),$(e).find("#aa").val(c),$(e).find("#number_of_nights").val(d),$(e).find("#number_of_nights").val(d),!0}function validateform_packago(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_profitrooms(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_resavenue(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","ddmmyy"),a.datepicker("option","dateFormat","ddmmyy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_reznext(e){return!0}function validateform_reztrip(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_staah(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","dd M yy"),a.datepicker("option","dateFormat","dd M yy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_synxis(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","mm-dd-yy"),a.datepicker("option","dateFormat","mm-dd-yy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),"mobile"==$("#device").val()&&$(e).attr("action","https://mobile.synxis.com"),!0}function validateform_synxisnew(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),"mobile"==$("#device").val()&&$(e).attr("action","https://mobile.synxis.com"),!0}function validateform_globekey(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input"),i=t.datepicker("getDate"),n=(a.datepicker("getDate")-i)/1e3/60/60/24,o=$.datepicker.formatDate("d",i),d=$.datepicker.formatDate("m",i),r=$.datepicker.formatDate("yy",i);return"mobile"===$("#device").val()?($(e).find("#fd").remove(),$(e).find("#fm").remove(),$(e).find("#fy").remove()):($(e).find("#fd").val(o),$(e).find("#fm").val(d),$(e).find("#fy").val(r)),$(e).find("#number_of_nights").val(n),!0}function validateform_ihotelier(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_fastbooking(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");t.val(),a.val();var i=t.datepicker("getDate"),n=a.datepicker("getDate"),o=$.datepicker.formatDate("d",i),d=$.datepicker.formatDate("m",i),r=$.datepicker.formatDate("yy",i);$(e).find("#fromday").val(o),$(e).find("#frommonth").val(d),$(e).find("#fromyear").val(r);var m=$.datepicker.formatDate("d",n),c=$.datepicker.formatDate("m",n),l=$.datepicker.formatDate("yy",n);return $(e).find("#today").val(m),$(e).find("#tomonth").val(c),$(e).find("#toyear").val(l),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_fabhres(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");var i=t.val(),n=a.val();$(e).find("#check_in").val(i),$(e).find("#check_out").val(n);var o=$(e).find("#ibe").val();return"00"!=o.slice(0,2)&&$(e).find("#ibe").val("00"+o),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_hotelscloud(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","dd-mm-yy"),a.datepicker("option","dateFormat","dd-mm-yy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_ezee(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","dd-mm-yy"),a.datepicker("option","dateFormat","dd-mm-yy");var i=t.val(),n=a.val();$(e).find("#check_in").val(i),$(e).find("#check_out").val(n);var o=t.datepicker("getDate"),d=(a.datepicker("getDate")-o)/1e3/60/60/24;return $(e).find("#number_of_nights").val(d),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_choicehotels(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_bookingdotcom(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","d yy-mm"),a.datepicker("option","dateFormat","d yy-mm");var i=t.val().split(" "),n=a.val().split(" ");return $(e).find("#checkin_monthday").val(i[0]),$(e).find("#checkin_year_month").val(i[1]),$(e).find("#checkout_monthday").val(n[0]),$(e).find("#checkout_year_month").val(n[1]),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_confirmedrooms(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input"),i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),!0}function validateform_hotelogix(e){return!0}function validateform_djubo(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_sterling(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","dd/M/yy"),a.datepicker("option","dateFormat","dd/M/yy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_resavenuewhitelabelled(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","ddmmyy"),a.datepicker("option","dateFormat","ddmmyy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_resavenuenew(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","ddmmyy"),a.datepicker("option","dateFormat","ddmmyy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_axisroomsnew(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_thebookingbutton(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_thelittlehotelier(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),"mobile"==$("#device").val()&&($(e).find("#check_in").remove(),$(e).find("#check_out").remove()),!0}function validateform_simplotel(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),""===$(e).find("#chain_id").val()&&$(e).find("#chain_id").remove(),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_reznext2(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yymmdd"),a.datepicker("option","dateFormat","yymmdd");var i=t.val(),n=a.val();return $(e).find("#checkin").val(i),$(e).find("#checkout").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_bestwestern(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=t.val(),n=a.val();return $(e).find("#check_in").val(i),$(e).find("#check_out").val(n),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_travelclick(e){var t=$(e).find(".arrival-date-input"),a=$(e).find(".departure-date-input");t.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");var i=t.val(),n=(a.val(),t.datepicker("getDate")),o=(a.datepicker("getDate")-n)/1e3/60/60/24;return $(e).find("#check_in").val(i),$(e).find("#number_of_nights").val(o),t.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function getGa4Code(){var e=null;return"undefined"!=typeof GA4CLIENTID&&(e=GA4CLIENTID),e}function validateform_enquiry(e){var t=$("#assetRelPath").val(),a=$(e).attr("action"),i=/^((http|https|ftp):\/\/)/,n=($(e).attr("target"),"");if("function"==typeof ga&&ga(function(e){if(e)n=e.get("linkerParam");else{var t=ga.getAll();t.length&&(n=t[0].get("linkerParam"))}}),"function"==typeof gtag){var o=getGa4Code();o&&(n="_glCID="+o)}return i.test(a)||(a=t+a),n&&(-1===a.indexOf("?")?a+="?"+n:a+="&"+n),window.open(a,e.target),!1}function init_booking_engine(e){var t=$("#hotel_id").val(),a=$(e).attr("data-hotel_id");if(t===a&&$(e).css("display","block"),"enquiry"!=$(e).attr("data-engine")){var i=$(e).find(".common"),n=1;n=parseInt(i.attr("data-lengthOfStay"),10);var o=i.attr("data-checkInDate"),d=new Date;d="Tomorrow"===o?new Date(d.getTime()+864e5):new Date;var r=!1,m=$(e).find(".arrival-date-input"),c=$(e).find(".departure-date-input"),l=i.attr("data-timeZone"),p=i.attr("data-timeOffset"),f=!!document.documentMode,v=!f&&!!window.StyleMedia;if(f||v)var u=new Date(1e3*(timestamp+parseInt(p)));else"object"==typeof Intl&&"function"==typeof Intl.NumberFormat&&(u=(u=d.toLocaleDateString("en-GB",{timeZone:l})).replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,""));m.prop("readonly",!0).datepicker({minDate:u,dateFormat:"dd/mm/yy",onClose:function(e){var t=m.datepicker("getDate","+1d");t.setDate(t.getDate()+n),c.datepicker("setDate",t),r&&(c.datepicker("show"),$("#ui-datepicker-div").css("z-index","1000"),r=!1)},onSelect:function(){r=!0},beforeShow:function(e,t){t.dpDiv.css({marginLeft:-(e.offsetWidth+16)+"px"})}}),m.datepicker("setDate",u);var s=m.datepicker("getDate","+1d");s.setDate(s.getDate()+n),c.prop("readonly",!0).datepicker({minDate:s,dateFormat:"dd/mm/yy",beforeShow:function(e,t){t.dpDiv.css({marginLeft:-(e.offsetWidth-58)+"px"})}}),c.datepicker("setDate",s)}var g=$(e).find("#cancel_or_modify"),k=$(e);temp=$(e).find("#start").attr("data-meta"),"results"==temp&&k.find("#start").val("availresults"),temp=$(e).find("#cancel_or_modify").attr("data-meta"),"true"==temp&&g.removeClass("hidden"),g.on("click",function(e){temp=k.find("#start").val(),k.find("#start").val("searchres"),k.submit(),k.find("#start").val(temp),e.preventDefault()}),temp=$(e).find("select#adults_id").attr("data-meta"),k.find("select#adults_id").val(temp).change(),temp=$(e).find("select#children_id").attr("data-meta"),k.find("select#children_id").val(temp).change(),temp=$(e).find("select#number_of_rooms").attr("data-meta"),k.find("select#number_of_rooms").val(temp).change();var h=$(".navbar-button").find(".btn-full-width").val();$(".navbar-button").find(".btn-full-width").val(h),"mobile"==$("#device").val()&&k.removeAttr("target"),temp=$(e).find("#amend_or_cancel").attr("data-meta");var y=$("#amend_or_cancel"),_=$("#registered_users");"true"==temp&&(y.removeClass("hidden"),_.removeClass("hidden")),temp=$(e).attr("target"),"_blank"==temp&&(y.attr("target","_blank"),_.attr("target","_blank")),temp=$(e).find("#promo_code").attr("data-meta"),"true"==temp&&$(e).find("#promo_code").closest(".hidden").removeClass("hidden");var b=$(".other-link-block");if(b.length&&g.length){var F=$(e).find(".cancel-link").detach().attr("data-hotel_id",a);b.append(F)}}function update_booking_engine_hotels(){var e=$("#booking-engine-groups").find("option:selected").attr("data-group_id");$("#booking-engine-hotels").empty(),$("#booking-engine-hotels-clone option").each(function(){e===$(this).attr("data-group_id")&&$("#booking-engine-hotels").append($(this).clone())})}function update_booking_engine_forms(){var e=$("#booking-engine-hotels").find("option:selected").attr("data-hotel_id");$(".form.booking-form").each(function(t){var a=$(this).attr("data-hotel_id");if(void 0===e&&0===t||e===a){$(this).css("display","block"),0===t&&(void 0===e?$(this).addClass("no-hotel-selected"):$(this).removeClass("no-hotel-selected"));var i=$(this).find(".form-group");i.length>2?$(".vc_open-form-block").show():0===i.length&&$(".vc_open-form-block").hide()}else $(this).css("display","none")})}function init_booking_engine_groups(){var e=$("#hotel_id").val(),t=0;$("#booking-engine-hotels-clone option").each(function(){if(e===$(this).attr("data-hotel_id"))return t=$(this).attr("data-group_id"),!1}),$("#booking-engine-groups option").each(function(){t===$(this).attr("data-group_id")&&$(this).prop("selected",!0)}),update_booking_engine_hotels()}function init_booking_engine_hotels(){var e=$("#hotel_id").val();$("#booking-engine-hotels option").each(function(){e===$(this).attr("data-hotel_id")&&$(this).prop("selected",!0)}),update_booking_engine_forms()}function update_mobile_navbar_buttons(){var e={};$("#booking-engine-hotels-clone option").each(function(){var t=$(this).attr("data-hotel_id"),a=$(this).text();e[t]=a}),$(".modal-body .form.booking-form").each(function(){$(this).css("display","block");var t=$(this).attr("data-hotel_id");t in e&&$(this).find('input[type="submit"]').val(e[t])})}function create_booking_dropdown(){var e={};$("#booking-engine-hotels-clone option").each(function(){var t=$(this).attr("data-hotel_id"),a=$(this).text();e[t]=a}),$(".wtbookbtn").each(function(){var t=$("#booking-dropdown-skel").find(".dropdown").clone();$(this).hide(),$(this).after(t);$(this).find(".form.booking-form").each(function(){var a=$(this).attr("data-hotel_id");if(a in e){var i=$(this).find('input[type="submit"]');t.find(".dropdown-name").html(i.val()),i.val(e[a]),t.find(".dropdown-menu").append(this),$(this).css("display","block")}})})}function create_booking_modal_toggle(){$(".wtbookbtn").each(function(){var e=$("#booking-modal-toggle-skel").find(".booking-modal-toggle").clone();$(this).find(".form.booking-form:first").before(e);$(this).find(".form.booking-form").each(function(){var t=$(this).find('input[type="submit"]');e.html(t.val()),$(this).remove()})})}function toggle_other_links_display(){var e=$("#booking-engine-hotels").find("option:selected").attr("data-hotel_id");$(".cancel-link").css("display","none"),$(".cancel-link").each(function(){var t=$(this).attr("data-hotel_id");e===t?$(this).css("display","block"):$(this).css("display","none")})}function remove_navbar_modal(){$(".mobile-navbar-button").children("a").removeAttr("data-toggle data-target")}function submit_mobile_navbar_form(e,t){var a=$("#hotel_id").val();!e||t?$(".mobile-navbar-button").find(".booking-form").submit():$(".form.booking-form").each(function(){var e=$(this).attr("data-hotel_id");a===e&&$(this).submit()})}function hide_form_fields(e){var t=$(e).find("#adults_id"),a=$(e).find("#children_id"),i=$(e).find("#promo_code"),n=$(e).find("#number_of_rooms");t.parentsUntil(".form-group").closest(".form-group").remove(),a.parentsUntil(".form-group").closest(".form-group").remove(),i.parentsUntil(".form-group").closest(".form-group").remove(),n.parentsUntil(".form-group").closest(".form-group").remove()}function getFormattedDates(e){var t=new Date(e);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()}function readCookie(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}function checkDate(e){var t=new Date,a=new Date(e);return t.setHours(0,0,0,0),a.setHours(0,0,0,0),t>a}function createChildrenAgeParams(e){var t="";return $.each(e,function(e,a){$.each(a,function(a,i){var n=e.split("_")[1],o=a.split("_")[1];t+="cage_"+n+"_"+o+"="+i.age+"&"})}),t}function setCookieMsg(e,t){var a,i=!(!!(!$("#parent_hotel_id").length||!$("#hotel_id").length)||$("#parent_hotel_id").val()!==$("#hotel_id").val()),n=$("#bookingUrl").val(),o=xDomainCookie(n+"/static","my.namespace",!0),d=null,r=!1;if(readCookie("cookiePopupTimer")){var m=new Date(readCookie("cookiePopupTimer"));d=(new Date-m)/6e4}(!d||d>15)&&o.get("beData",function(o){if(o&&"delete"!==o){$("#continueBooking").removeClass("cb-hide");var d=JSON.parse(o),m=n+"/?",c="";if(i?d.searchData&&parseInt(d.searchData.chainId)===parseInt(t):d.searchData&&parseInt(d.searchData.propertyId)===parseInt(e)){if(d.searchData.checkIn&&(r=checkDate(d.searchData.checkIn)),$.each(d.searchData,function(e,t){if("roomId"!==e&&"ratePlanId"!==e&&"packageId"!==e&&"source"!==e&&"currentDate"!==e){if("checkIn"!==e||r||(c+=getFormattedDates(t)+" - "),"checkOut"!==e||r||(c+=getFormattedDates(t)+", "),"rooms"===e){for(var a=0,i=0;i<t.length;i++)m+="adults_"+(i+1)+"="+parseInt(t[i].adults)+"&",m+="children_"+(i+1)+"="+parseInt(t[i].children)+"&",a+=parseInt(t[i].adults)+parseInt(t[i].children);c+=a+(a>1?" guests":" guest"),t=t.length}t&&"None"!==t&&"name"!==e&&("checkIn"===e||"checkOut"===e?r||(m+=e+"="+t+"&"):m+="children_info"===e?createChildrenAgeParams(t):e+"="+t+"&")}}),d.booking&&$.each(d.booking,function(e,t){"name"===e&&("None"!==t?((a=t.split(" ").find(function(e){if(e.length>2&&"."!==e.charAt(e.length-1))return e}))?$("#continueBooking .cb-name").html(a+","):$("#continueBooking .cb-name").addClass("cb-hide"),m+=e+"="+t+"&"):$("#continueBooking .cb-name").addClass("cb-hide")),"email"===e&&"None"!==t&&(m+=e+"="+t+"&")}),d.independent_addons&&d.independent_addons.length>0&&d.independent_addons.forEach(function(e){e.adult_units>0&&(m+="vaa_"+e.id+"="+e.adult_units+"&"),e.child_units>0&&(m+="vac_"+e.id+"="+e.child_units+"&")}),d.selectedRooms&&d.selectedRooms.length>0&&(m+="roomId="+d.selectedRooms[0].roomId+"&",m+="ratePlanId="+d.selectedRooms[0].ratePlanId+"&",m+="packageId="+d.selectedRooms[0].packageId+"&"),r||d.isBookingConfirmed?m+="cookieReload=false&source=cdc_1":m+="cookieReload=true&source=cdc_1","function"==typeof ga&&ga(function(e){if(e)a=e.get("linkerParam");else{var t=ga.getAll();if(t.length)var a=t[0].get("linkerParam")}a&&(m+="&"+a)}),"function"==typeof gtag){var l=getGa4Code();l&&(m+="&_glCID="+l)}if(r||d.isBookingConfirmed){initSiteMessaging(e,device,i);var p="Welcome back, ";a&&(p+=a+"!<span style='display: block;font-size: 13px'> It is great to see you again</span>"),$("#continueBooking .cb-name, #continueBooking .cb-book-details, #continueBooking .cb-hotel-name").hide(),$("#continueBooking .cb-heading").html(p)}else{var f=parseInt(d.searchData.propertyId),v="";$("#booking-engine-hotels-clone option")&&$("#booking-engine-hotels-clone option").filter(function(){$(this).attr("data-hotel_id")==f&&(v=this.innerHTML)}),$("#continueBooking .cb-hotel-name").html(v),$("#continueBooking .cb-book-details").html(c),initSiteMessaging(f,device,i)}$("#continueBooking .cb-wrap").click(function(){window.open(m)}),$("#continueBooking .close").click(function(){document.cookie="cookiePopupTimer="+new Date,$("#continueBooking").addClass("cb-hide")})}else $("#continueBooking").addClass("cb-hide")}else $("#continueBooking").addClass("cb-hide")},1e3)}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function setMinPriceMessage(e,t,a){0===$(a).closest(".wtbookbtn").length&&("hidden"===$(a).find(".min-room-price").attr("type")&&($(a).find("input:submit").attr("data-tooptip","tooltip"),$(a).find("input:submit").attr("data-placement","bottom"),$(a).find("input:submit").attr("title",e)),$(a).find(".min-room-price").after(t))}function setChainMobileMinPriceMessage(e,t){var a=$(".mobile-navbar-button .navBtnBorder"),i=t.find(".min-price-div").clone().toggleClass("min-price-div nav-min-price-div");$(a).append(i)}function initSiteMessaging(e,t,a,i){var n=$("#bookingUrl").val();e&&$.ajax({url:n+"/content/"+e+"/data",method:"GET",success:function(e){if(e.data.minimum_baserate&&e.data.message_html)if(i){$(i).find(".min-price-div").remove();var t="<div class='min-price-div'> <span class='general-msg'>From </span><span class='price-msg'>"+numberWithCommas(Math.ceil(e.data.minimum_baserate))+"</span> <span  class='general-msg'>"+e.data.currency_code+"/Night</span> </div> ";$(i).find(".min-price-wrapper").after(t)}else $("#continueBooking .cb-room-price").html(e.data.message_html)}})}function formInitSiteMessaging(e,t,a,i,n){var o=$("#hotel_id").val(),d=$("#bookingUrl").val();if(i)var r=$('form[data-hotel_id="'+e+'"]').first(),m=$(r).attr("data-engine");else var r=$("#booking-form"),m=$(r).attr("data-engine");"simplotel"===m&&e?$.ajax({url:d+"/content/"+e+"/data",method:"GET",success:function(n){if(n.data.minimum_baserate){var d="From "+numberWithCommas(Math.ceil(n.data.minimum_baserate))+" "+n.data.currency_code+"/Night";$(".min-room-price").attr("type","hidden"),$(r).find(".min-price-wrapper").show();var m="<div class='min-price-div'> <span class='general-msg'>From </span><span class='price-msg'>"+numberWithCommas(Math.ceil(n.data.minimum_baserate))+"</span> <span  class='general-msg'>"+n.data.currency_code+"/Night</span> </div> ";$(".min-price-div").remove(),setMinPriceMessage(d,m,r),i&&!a&&"mobile"===t&&o.toString()===e.toString()&&setChainMobileMinPriceMessage(e,r)}else $(r).find(".min-price-wrapper").hide()}}):$(r).find(".min-price-wrapper").hide()}function init(){var e=$("#device").val(),t=!(!$("#parent_hotel_id").length||!$("#hotel_id").length),a=!(!t||$("#parent_hotel_id").val()!==$("#hotel_id").val()),i=!(!$("#template_type").length||"common"!==$("#template_type").val()),n=!0,o=!!$("body.phoenix").length,d=!!$(".abs_parent_btn_wrapper").length,r="",m="",c=$("#chain_id").val(),l=$("#websiteMessagingStatus").val();if(t&&!c&&(c=$("#parent_hotel_id").val()),"True"===l)if(a){var p=$("#booking-engine-hotels").find("option:selected");p.length>0&&(formInitSiteMessaging(m=p.attr("data-hotel_id"),e,a,t),setCookieMsg(m,c))}else formInitSiteMessaging(m=$("#hotel_id").val(),e,a,t),setCookieMsg(m,c);$(".form.booking-form").each(function(){init_booking_engine(this),""!==r||o||(r=$(this).attr("data-engine")),r.length&&r!==$(this).attr("data-engine")&&(n=!1)}),function(){var e=document.getElementById("booking-engine-groups"),t=document.getElementById("booking-engine-hotels");null!==e&&null!==t&&(e.setAttribute("readonly","true"),t.setAttribute("readonly","true"),window.addEventListener("pageshow",function(){e.removeAttribute("readonly"),t.removeAttribute("readonly")}))}(),t&&"desktop"===e&&(update_booking_engine_hotels(),update_booking_engine_forms(),init_booking_engine_groups(),init_booking_engine_hotels(),toggle_other_links_display()),t&&"mobile"===e&&i?(update_booking_engine_hotels(),update_booking_engine_forms(),init_booking_engine_groups(),init_booking_engine_hotels()):t&&"mobile"===e&&update_mobile_navbar_buttons(),a&&"desktop"===e&&i?n&&"simplotel"===r||d||create_booking_modal_toggle():a&&"desktop"===e&&create_booking_dropdown(),a&&"mobile"===e&&(n&&"simplotel"===r||d||create_booking_modal_toggle());var f=$("#hotel_id").val();["6599"].includes(f)||!t&&o&&"mobile"===e&&(remove_navbar_modal(),$(".mobile-navbar-button").click(function(){$(".mobile-navbar-button").find(".booking-form").submit()})),"mobile"===e&&t&&n&&"simplotel"===r&&remove_navbar_modal(),$("#booking-engine-groups").on("change",function(){update_booking_engine_hotels(),update_booking_engine_forms(),toggle_other_links_display(),"True"===l&&formInitSiteMessaging($("#booking-engine-hotels").find("option:selected").attr("data-hotel_id"),e,a,t)}),$("#booking-engine-hotels").on("change",function(){update_booking_engine_forms(),toggle_other_links_display(),"True"===l&&formInitSiteMessaging($(this).find("option:selected").attr("data-hotel_id"),e,a,t)}),"desktop"===e&&t&&i&&($(".booking-modal-toggle").on("click",function(){$(".js-nav-booking-form .resv_button").length||$("#hotelBookModal .booking-form-wrapper").append($("#bookingForm")),$(".for-homepage #resv-form .booking-form-wrapper").find("#bookingForm").length||$("#resv-form .booking-form-wrapper").append($("#bookingForm"))}),$("#hotelBookModal").on("hidden.bs.modal",function(){$("#collapseOne").find(".panel-body").append($("#bookingForm"))})),"mobile"===e&&(!t&&!i||t&&i&&n&&"simplotel"===r)&&$(".mobile-navbar-button").click(function(){submit_mobile_navbar_form(t,a)}),$(".form.booking-form").each(function(){t&&"desktop"===e&&!i&&hide_form_fields(this)}),$(".booking-form").submit(function(e){function t(e){i||(i=!0,l(a)&&a.submit(e))}e.preventDefault(),e.stopPropagation();var a=this,i=!1,n=$(a).attr("data-engine"),o=window.location.pathname;if("verticalbooking"===n){var d={en:"eng",fr:"fra",it:"ita",de:"deu",fr:"fra",ru:"rus",nl:"dut",pt:"por",fi:"fin",el:"ell",zh:"chi",ko:"kor",ja:"jpn",th:"tha",vi:"vie",bg:"bul",no:"nor",ro:"ron",hu:"hun",sk:"slo",cs:"cze",da:"dan",ca:"cat"},r=$(a).find(".be-lang");d[c=$(r).val()]?$(r).val(d[c]):$(r).val("eng")}if("thelittlehotelier"===n){var m={zh:"zh-CN"},r=$(a).find(".be-lang"),c=$(r).val();m[c]&&$(r).val(m[c])}var l=window["validateform_"+String(n)];if("function"==typeof l&&("function"==typeof ga?(ga(function(e){if(e)i=e.get("linkerParam");else{var t=ga.getAll();if(t.length)var i=t[0].get("linkerParam")}i&&($(a).find('input[name*="_ga"]').remove(),$(a).append('<input type="hidden" name="_ga" value="'+i.split("_ga=")[1]+'">'))}),ga("send",{hitType:"event",eventCategory:"bookNow",eventAction:"formSubmit",eventLabel:o,hitCallback:t(e)})):t(e),"function"==typeof gtag)){var p=getGa4Code();p&&($(a).find('input[name*="_glCID"]').remove(),$(a).append('<input type="hidden" name="_glCID" value="'+p+'">')),gtag("event","formSubmit",{event_category:"bookNow",event_label:o,event_callback:t(e)})}}),"mobile"===e&&$(".nav-wrap a.tel").click(function(e){function t(){i||(i=!0,window.location.href=n)}e.preventDefault(),e.stopPropagation();var a=this,i=!1,n=$(a).attr("href"),o=window.location.pathname;if(setTimeout(t,1e3),"function"==typeof ga&&(ga(function(e){if(e)a=e.get("linkerParam");else{var t=ga.getAll();if(t.length)var a=t[0].get("linkerParam")}a&&($(form).find('input[name*="_ga"]').remove(),$(form).append('<input type="hidden" name="_ga" value="'+a.split("_ga=")[1]+'">'))}),ga("send",{hitType:"event",eventCategory:"mobileCall",eventAction:"linkClick",eventLabel:o,hitCallback:t})),"function"==typeof gtag){var d=getGa4Code();d&&($(form).find('input[name*="_glCID"]').remove(),$(form).append('<input type="hidden" name="_glCID" value="'+d+'">')),gtag("event","linkClick",{event_category:"mobileCall",event_label:o,event_callback:t})}}),$(".wtformjson .btn-forms").click(function(){var e=window.location.pathname;"function"==typeof ga&&ga("send",{hitType:"event",eventCategory:"contactForm",eventAction:"formSubmitClick",eventLabel:e}),"function"==typeof gtag&&gtag("event","formSubmitClick",{event_category:"contactForm",event_label:e})})}var timestamp=(new Date).getTime()/1e3+60*(new Date).getTimezoneOffset();init(),$(window).on("load",function(){window.location.pathname.slice(-1);var e=$("#bookingUrl").val();$.getScript(e+"/static/widgets/exitIntent.js",function(){})});
//# sourceMappingURL=bookingengine.min.js.map